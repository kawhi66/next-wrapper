function t(){this._state=0,this._idx=0,this._queue=[]}function i(t){t()}t.prototype.init=function(){this._state=0,this._idx=0,"function"==typeof this._queue[this._idx]&&(this._state=1,this._queue[this._idx](this.next.bind(this)))},t.prototype.addEvents=function(t){const n=[].slice.call(arguments),e={}.toString.call(t).toLowerCase().split(" ")[1].slice(0,-1);let s=[];n.length>1?n.forEach(t=>{"function"==typeof t?s.push(t):s.push(i)}):"function"===e?s.push(t):"array"===e&&t.forEach(t=>{"function"==typeof t?s.push(t):s.push(i)}),this._queue=this._queue.concat(s)},t.prototype.next=function(){if(this._queue.length<=this._idx+1)return!1;"function"==typeof this._queue[++this._idx]&&this._queue[this._idx](this.next.bind(this))},t.prototype.getSnapShot=function(){return{running:!!this._state}};const n=require("uuid/v1"),e={default:new t};function s(i,n){const s=[].slice.call(arguments),u=s[s.length-1];let o="default",h=[];"string"==typeof u?2===s.length?(o=n,h.push(i)):(o=u,h=s.slice(0,-1)):h=s,e.hasOwnProperty(o)||(e[o]=new t),h.forEach(t=>{e[o].addEvents(t)}),e[o].getSnapShot().running||e[o].init()}function u(){const i=new t,s=n();return e[s]=i,s}export{u as nextGenerator,s as nextWrapper};
