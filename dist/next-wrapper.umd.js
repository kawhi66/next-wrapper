!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).nextWrapper={})}(this,function(t){"use strict";function e(){this._state=0,this._idx=0,this._queue=[]}function n(t){t()}e.prototype.init=function(){this._state=0,this._idx=0,"function"==typeof this._queue[this._idx]&&(this._state=1,this._queue[this._idx](this.next.bind(this)))},e.prototype.addEvents=function(t){const e=[].slice.call(arguments),i={}.toString.call(t).toLowerCase().split(" ")[1].slice(0,-1);let s=[];e.length>1?e.forEach(t=>{"function"==typeof t?s.push(t):s.push(n)}):"function"===i?s.push(t):"array"===i&&t.forEach(t=>{"function"==typeof t?s.push(t):s.push(n)}),this._queue=this._queue.concat(s)},e.prototype.next=function(){if(this._queue.length<=this._idx+1)return!1;"function"==typeof this._queue[++this._idx]&&this._queue[this._idx](this.next.bind(this))},e.prototype.getSnapShot=function(){return{running:!!this._state}};const i=require("uuid/v1"),s={default:new e};t.nextGenerator=function(){const t=new e,n=i();return s[n]=t,n},t.nextWrapper=function(t,n){const i=[].slice.call(arguments),o=i[i.length-1];let u="default",h=[];"string"==typeof o?2===i.length?(u=n,h.push(t)):(u=o,h=i.slice(0,-1)):h=i,s.hasOwnProperty(u)||(s[u]=new e),h.forEach(t=>{s[u].addEvents(t)}),s[u].getSnapShot().running||s[u].init()},Object.defineProperty(t,"__esModule",{value:!0})});
